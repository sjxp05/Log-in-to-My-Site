# 로그인 프로그램

이 프로그램은 제가 만든 사이트?에 로그인, 회원가입, 정보 조회 및 수정, 회원탈퇴 등의 기능을 구현한 것입니다.

사실 당연히 진짜 웹사이트는 아니구요 tkinter로 기능만 사이트스럽게 만든것입미다.

아니 내가 이거 할려고 대략 몇일부터냐.. 2월1일? 2일? 부터 시작했거등요 근데 2월 5일에 끝났네요 개 힘들었습니다

사실 인생에서 847줄짜리 코드 짜보는거 처음임.. 그나마 `config()`로 싹다 바꾸고 줄이고줄여서 777줄이 됨 럭키비키자나~

### 사용한 라이브러리

역대급으로 많은 라이브러리를 썼습니다 슦껄

-   `tkinter` (gui 만드는 데 사용)
-   `tkinter` -> `ttk` (콤보박스 모듈 사용)
-   `pyautogui` (알림창)
-   `pymysql` (데이터베이스 접근, 수정)
-   `datetime` (생년월일 확인 기능)
-   `random` (휴대전화 인증번호 기능)

원래 `sys`도 썼는데 안써도 닫히는건 `exit(0)`으로 잘 닫히더라구요 그래서 뺐습니당

## 기능 소개

이 프로그램은 크게 다음과 같은 6가지 기능이 있습니다.

### 1. 회원가입

회원가입을 위해 아이디, 비밀번호, 이름, 성별, 생년월일, 휴대전화 번호 등의 개인정보를 입력합니다. 이때 조건에 맞지 않거나 다 채우지 않은 상태로 회원가입을 시도하면 아래에 있는 경고 표시 라벨에 경고문을 띄우는 방식으로 작동합니다.

제가 또 현실고증을 중요시해서 비밀번호는 안보이게 막아놓고 핸드폰번호로 인증하는 기능까지 만들어 놓았습니다(진짜 문자가 오는 건 아니고 cli 쓰는거임ㅋㅋ)

`infoCheck()` 함수가 이와 같이 조건에 안맞는 입력값을 걸러내는 역할을 하며, 회원가입 기능의 기본적인 함수인 `signup()`에서도 일부 걸러내기 기능을 수행합니다.

#### 세부사항

-   아이디: 정해진 글자 수, 영문 또는 숫자만 허용 (사실 isalnum 또는 isalpha 메소드는 한글도 허용을 한다는 문제점이 있는데 그거까지 수정하면 골치아프니까 그냥 냅둘게요)

-   비밀번호: 정해진 글자 수, 영문/숫자/일부 특수문자 허용("!", "\_", "&", ".", "?", ";")

-   이름: 정해진 글자 수

-   성별: 라디오버튼, variable=genValue로 구분함 1: 남자 2: 여자

-   생년월일: 년 월 일 따로 받아서

    -   (1) 연도: 1900년 이상 현재 연도 미만(datetime 모듈 사용)
    -   (2) 월: 콤보박스. 1~12월
    -   (3) 일: 콤보박스. 월별로 dates라는 딕셔너리를 만들어 가능한 날짜 저장, 거기에 맞지 않으면 경고 표시

-   전화번호: 010xxxxxxxx 형식에 맞지 않거나 이미 사용중인 번호일 경우 경고 표시(사용중인 번호 확인은 `infoCheck()` 말고 `signup()`에 있음)

-   번호인증: `otpMake()` 함수를 통해 랜덤 인증번호를 만들고, `otpCheck()` 함수에서 입력한 인증번호가 맞는지 확인. 한 번 인증확인 버튼을 누르면 그 otp번호는 더이상 사용이 불가능하고 새로 만들어야 함

### 2. 로그인

맨 처음 run python file을 눌렀을 때 나오는 화면입니다. 아이디와 비밀번호를 입력하고 로그인 버튼을 누르면 다음 화면으로 넘어갈 수 있습니다.

#### 세부사항

-   비밀번호 시도 횟수는 한 아이디 당 총 5회이며, 한 번 비밀번호가 틀릴 때마다 화면의 경고문에 남은 횟수가 표시됩니다.

-   만약 5회 이상 비밀번호를 틀린다면 `limitedList`에 추가되어 30초 동안 로그인 제한이 걸립니다. 이후에는 그 아이디의 시도 횟수가 5회로 다시 초기화됩니다.

-   아이디 또는 비밀번호가 공란일 경우 올바르게 입력하라는 안내문이 나옵니다.

-   입력한 아이디가 데베에 존재하지 않을 경우에도 안내문이 나옵니다.

### 3. 홈 화면

로그인 후에 나오는 홈 화면에는 제일 먼저 유저의 이름과 환영 멘트를 적은 라벨이 보이고, 내정보 보기 버튼과 로그아웃 버튼, 사이트를 대충 표현한 그림(?)이 있습니다. 이 그림은 제가 직접 그렸고 별다른 기능은 없습니다. ^~^

그리고 다른 기능을 사용하다가 home 버튼을 누르면 언제든지 홈화면으로 돌아갈 수 있습니다.

컴과 화이팅 ^.^

### 4. 정보조회

정보 조회 기능은 홈화면에서 '내정보'를 누르거나, 정보수정 또는 회원탈퇴 화면에서 뒤로가기 버튼을 누르면 나오는 화면입니다. 개큰라벨 안에 회원가입 때 등록한 정보들을 모두 적어 놓아 확인이 가능하도록 만들었습니다.

이 화면에서는 홈으로 돌아가기, 정보수정, 회원탈퇴, 로그아웃 기능을 사용할 수 있습니다.

### 5. 정보수정

정보수정은 회원가입과 매우 비슷한 방법으로 이루어지고 라벨이나 엔트리의 레이아웃도 거의 같습니다.

그러나 약간의 차이가 있는데 이미 가입된 계정은 아이디를 수정할 수 없으며, 전화번호는 원래 번호 그대로 사용 시 인증 기능은 사용되지 않게 막아 놓았습니다.

#### 세부사항

-   전화번호 인증: 회원가입 시와는 달리 전화번호가 기존 유저의 정보와 다를 때에만 중복 번호 확인 절차를 진행합니다.

### 6. 회원탈퇴

회원탈퇴는 해당계정의 비밀번호를 마지막으로 확인한 뒤 정말 삭제하시겠습니까? 메시지가 나오고, '예'를 클릭하면 그 계정이 사라집니다. mysql의 특성상 한번 날려버린 정보는 복구하기가 힘듭니다. 탈퇴는 항상 신중하게 결정합시당

## 수정사항

-   `2/6`:
    -   아이디나 비번에 한글 못쓰도록 수정
    -   날짜 오류 수정 (ex: 4월 31일, 윤년 아닌 해에 2월 29일)
    -   입력한 생년월일이 현재 날짜보다 뒤면 빠꾸먹임
    -   `try except` 예외처리문을 제대로 써본건 처음인데 개조음 신세계임
    -   777줄이 깨지고 785줄이 되...
# Log-in-to-My-Site
